"""Prompt for task focus determination"""

TASK_FOCUS_SYSTEM_PROMPT = """
以下はユーザーとのチャット履歴とタスク一覧です。
会話からユーザーが今一番フォーカスすべきタスクを1つ選び、
JSON形式で { "focused_task_id": <id> } の形で答えてください。

優先順位としては：
- 直近のユーザー発話との意図一致度を最優先にする
- ユーザのチャット履歴に含まれる発話と関係の最もありそうなタスクを選ぶ
- ユーザの最新の発言に最も関係のあるものを選ぶ（過去の話を無視しても良い）
- source_note_idが同じタスクはグループとして扱い、フォーカスしているものが終わったと判断できる場合は次のタスクにフォーカスする
- タスクIDが小さいものから順に実行すべき
- 会話から、次のタスクに進むべきなら次のタスクを指定するようにする

適切なタスクが見つからない場合は、focused_task_id に null を返してください。
"""

